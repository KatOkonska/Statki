<!DOCTYPE html>


<html>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <script type="text/javascript">

        var cars = [
 { "make":"Porsche", "model":"911S" },
 { "make":"Mercedes-Benz", "model":"220SE" },
 { "make":"Jaguar","model": "Mark VII" }
];

        var htmlData =
        {
            "gameMode": "singlePlayer",

            "roomNumber": "8"
        }

        function onGameStartSuccess(responseData)
        {
            console.log("Data recieved from server: "+responseData);
        };

        function startGame()
        {
            console.log("Data sent to server: "+JSON.stringify(htmlData));

            $.ajax
            (
                {
                    type : 'POST',
                    url: 'gameManager',
                    headers:
                    {
                        "Content-Type":"application/json"
                    },
                    data: JSON.stringify(htmlData),
                    success: function(data)
                    {
                        onGameStartSuccess(data);
                    }
                }
            );
        };



    </script>

    <script>

    function changeColor(myObj, color)
    {
        myObj.style.color = color;
        document.getElementById('0 x 9').style.color = 'pink';
    }

    function tryPlaceCurrentShip(x,y)
    {

        console.log("Coords: "+x+"  "+y);
    }

    </script>

    <head>
        <title>Kasia tutaj jest</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="static/main.css" type="text/css">
    </head>


    <body>

    <header>
        <h1 id="roomNumber">Witaj, jesteś w pokoju nr {{roomData['roomNumber']}} !</h1>
    </header>

    <section id="room">
        <section class="sectionLeft" id="playerSection">
            <section>
                <h1 id="userName">Hello, {{user['name']}} !</h1>
                <h2>Twoje statki</h2>
                <button type="button" id="button_one" class="button" onclick="startGame()"><h3>Click Me!</h3></button>
            </section>
            <section class="title">
                <h1>Twoja Plansza</h1>
            </section>
            <section>
                <button id="placeShip" onclick="setCurrentShip(4)">
                    <h2>Wstaw 4</h2>
                </button>
                <table border = "2pt" id="board" align="center">
                    {% for k in range (0,15) %}
                    <tr>
                        {% for j in ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O'] %}
                        {% set coordinates = [ (j)|string, (k)|string ] | join("") %}
                        <td height="32" width="32" align="center" id="{{coordinates}}" onmouseover="tryPlaceCurrentShip('{{k}}','{{j}}')">{{j}}{{k}}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </table>
            </section>
        </section>




        <section class="sectionRight" id="opponentSection">
            <section>
                <h1 id="opponentName">Hello, {{opponent['name']}} !</h1>
                <h2>Statki przeciwnika</h2>
                <button type="button" id="button_two" class="button" onclick="startGame()"><h3>Click Me!</h3></button>
            </section>
            <section class="title">
                <h1>Plansza Przeciwnika</h1>
            </section>
            <section>
                <table border = "2pt" id="board" align="center">
                    {% for k in range (0,15) %}
                    <tr>
                        {% for j in ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O'] %}
                        {% set coordinates = [ (j)|string, (k)|string ] | join("") %}
                        <td height="32" width="32" align="center" id="{{coordinates}}" onmouseover="changeColor(this, 'red' )" onmouseleave="changeColor(this, 'blue')">{{j}}{{k}}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </table>
            </section>
        </section>
    </section>

    </body>

    <footer>
        <h2>autor: Katarzyna Okońska, 2018</h2>
    </footer>
</html>